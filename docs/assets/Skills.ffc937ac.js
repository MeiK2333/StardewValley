import{d as q,e as b,u as w,r as k,o as m,c as _,b as o,F as g,g as $,i as N,t as C,q as F,j as V,w as K,k as L,v as I,x as P,f as B,m as U,p as M,n as j,_ as O}from"./index.b54ae232.js";const T=f=>(M("data-v-6d4e74a0"),f=f(),j(),f),X={class:"skills"},z=T(()=>o("thead",null,[o("tr",null,[o("th",null,"\u6280\u80FD"),o("th",null,"\u7B49\u7EA7"),o("th",null,"\u7ECF\u9A8C"),o("th",null,"5\u7EA7\u4E13\u7CBE"),o("th",null,"10\u7EA7\u4E13\u7CBE")])],-1)),G=["onContextmenu"],H=["onContextmenu"],J=["onContextmenu"],Q=["onUpdate:modelValue"],R=["onClick"],W=q({__name:"Skills",setup(f){const s=b(),a=w(),A=[0,100,380,770,1300,2150,3300,4800,6900,1e4,15e3],i=["\u7267\u573A\u4E3B","\u519C\u573A\u4E3B","\u9E21\u820D\u5927\u5E08","\u7267\u7F8A\u4EBA","\u5236\u54C1\u751F\u4EA7\u5BB6","\u519C\u4E1A\u5B66\u5BB6","\u6E14\u592B","\u6355\u9C7C\u8005","\u5782\u9493\u8005","\u6D77\u76D7","\u6C34\u624B","\u8BF1\u9975\u5927\u5E08","\u62A4\u6797\u4EBA","\u6536\u96C6\u8005","\u4F10\u6728\u5DE5\u4EBA","\u8403\u53D6\u8005","\u690D\u7269\u5B66\u5BB6","\u8FFD\u8E2A\u8005","\u77FF\u5DE5","\u5730\u8D28\u5B66\u5BB6","\u94C1\u5320","\u52D8\u63A2\u8005","\u6316\u6398\u8005","\u5B9D\u77F3\u4E13\u5BB6","\u6218\u58EB","\u89C2\u5BDF\u5458","\u66B4\u51FB","\u9632\u5FA1\u8005","\u7279\u6280\u8005","\u4EA1\u547D\u5F92"],c=s.tree.querySelectorAll("player experiencePoints int"),h=()=>{const e=new Set;return s.tree.querySelectorAll("player professions int").forEach(u=>{e.add(Number(u.textContent))}),e},D=e=>{const n=[],u=h();for(let t=e*6;t<e*6+6;t++)u.has(t)&&n.push(i[t]);return n},v=[{title:"\u8015\u79CD",exp:c[0],level:s.tree.querySelector("player farmingLevel")},{title:"\u9493\u9C7C",exp:c[1],level:s.tree.querySelector("player fishingLevel")},{title:"\u91C7\u96C6",exp:c[2],level:s.tree.querySelector("player foragingLevel")},{title:"\u91C7\u77FF",exp:c[3],level:s.tree.querySelector("player miningLevel")},{title:"\u6218\u6597",exp:c[4],level:s.tree.querySelector("player combatLevel")},{title:"\u5E78\u8FD0",exp:c[5],level:s.tree.querySelector("player luckLevel")}],p=(e,n=5)=>{var t,l;const u=n===5?e*6:e*6+2;for(let r=u;r<e*6+6;r++)for(const d of s.tree.querySelectorAll("player professions int"))d.textContent.trim()===r.toString()&&((l=(t=s.tree)==null?void 0:t.querySelector("player professions"))==null||l.removeChild(d));a.pageKey.skills++},y=k(!1),x=e=>{a.options=[{title:"\u4FEE\u6539\u6280\u80FD\u7B49\u7EA7",onClick:n=>{const u=k(Number(v[e].level.textContent));P.show("skills-change",{value:u,confirm:()=>{u.value>10&&(u.value=10),u.value<=0&&(u.value=0),v[e].level.textContent=u.value.toString(),v[e].exp.textContent=A[u.value].toString(),p(e),a.pageKey.skills++,y.value=!1}})}}]},S=(e,n)=>{if(n===5)a.options=[{title:i[e*6],onClick:()=>{p(e),s.tree.querySelector("player professions").appendChild(B(`<int>${e*6}</int>`)),a.pageKey.skills++}},{title:i[e*6+1],onClick:()=>{p(e),s.tree.querySelector("player professions").appendChild(B(`<int>${e*6+1}</int>`)),a.pageKey.skills++}}];else{const u=i.indexOf(D(e)[0]),t=e*6+(u-e*6)*2+2;a.options=[{title:i[t],onClick:()=>{p(e,10),s.tree.querySelector("player professions").appendChild(B(`<int>${t}</int>`)),a.pageKey.skills++}},{title:i[t+1],onClick:()=>{p(e,10),s.tree.querySelector("player professions").appendChild(B(`<int>${t+1}</int>`)),a.pageKey.skills++}}]}},E=(e,n)=>{const u=h(),t=n===5?e*6:e*6+2,l=n===5?e*6+2:e*6+6;for(let r=t;r<l;r++)if(u.has(r))return i[r];return"\u5F85\u5B66\u4E60"};return(e,n)=>{const u=U("vue-final-modal");return m(),_(g,null,[o("div",X,[o("table",null,[z,o("tbody",null,[(m(),_(g,null,$(v,(t,l)=>o("tr",{key:`${l}-${N(a).pageKey.skills}`},[o("td",null,C(t.title),1),o("td",{onContextmenu:r=>x(l)},C(t.level.textContent),41,G),o("td",null,C(t.exp.textContent),1),Number(t.level.textContent)>=5&&l<5?(m(),_("td",{key:0,onContextmenu:r=>S(l,5)},C(E(l,5)),41,H)):F("",!0),Number(t.level.textContent)>=10&&l<5&&E(l,5)!=="\u5F85\u5B66\u4E60"?(m(),_("td",{key:1,onContextmenu:r=>S(l,10)},C(E(l,10)),41,J)):F("",!0)])),64))])])]),V(u,{modelValue:y.value,"onUpdate:modelValue":n[1]||(n[1]=t=>y.value=t),name:"skills-change","click-to-close":!0,"esc-to-close":!0,ssr:!1},{default:K(({params:t})=>[L(o("input",{type:"number","onUpdate:modelValue":l=>t.value=l,min:1,max:999,class:"sv-input",style:{width:"85%"}},null,8,Q),[[I,t.value]]),o("button",{class:"sv-button",onClick:t.confirm,style:{"min-width":"68px","margin-right":"20px"}}," \u786E\u5B9A ",8,R),o("button",{class:"sv-button",onClick:n[0]||(n[0]=l=>y.value=!1),style:{"min-width":"68px","margin-left":"20px"}}," \u53D6\u6D88 ")]),_:1},8,["modelValue"])],64)}}});const Z=O(W,[["__scopeId","data-v-6d4e74a0"]]);export{Z as default};
